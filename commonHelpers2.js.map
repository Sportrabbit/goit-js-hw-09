{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["\"use strict\";\n\nconst KEY = 'feedback-form-state';\n\nlet previousData = {};\n\nconst formElem = document.querySelector('.feedback-form');\n\nformElem.addEventListener('input', onFormInput);\nformElem.addEventListener('submit', onFormSubmit);\n\nfunction onFormInput() {\n    const email = formElem.elements.email.value.trim();\n    const message = formElem.elements.message.value.trim();\n\n    const data = {\n        email,\n        message,\n    };\n\n    saveToLocalStorage(KEY, data);\n}\n\nfunction onFormSubmit(e) {\n    e.preventDefault();\n\n    const email = formElem.elements.email.value.trim();\n    const message = formElem.elements.message.value.trim();\n\n    if (email === '' || message === '') {\n        alert('All form fields must be filled in');\n        return;\n    }\n\n    const data = {\n        email,\n        message,\n    };\n\n    localStorage.removeItem(KEY);\n    formElem.reset();\n\n    console.log(data);\n}\n\nfunction saveToLocalStorage(key, value) {\n    const jsonItem = JSON.stringify(value);\n    localStorage.setItem(key, jsonItem);\n}\n\nfunction getFromLocalStorage(key) {\n    const parseItem = localStorage.getItem(key);\n    try {\n        return JSON.parse(parseItem);\n    } catch {\n        return parseItem;\n    }\n}\n\nfunction dataInput() {\n    const data = getFromLocalStorage(KEY) || {};\n    formElem.elements.email.value = data.email || '';\n    formElem.elements.message.value = data.message || '';\n}\n\ndataInput();"],"names":["KEY","formElem","onFormInput","onFormSubmit","email","message","saveToLocalStorage","data","key","value","jsonItem","getFromLocalStorage","parseItem","dataInput"],"mappings":"oDAEA,MAAMA,EAAM,sBAINC,EAAW,SAAS,cAAc,gBAAgB,EAExDA,EAAS,iBAAiB,QAASC,CAAW,EAC9CD,EAAS,iBAAiB,SAAUE,CAAY,EAEhD,SAASD,GAAc,CACnB,MAAME,EAAQH,EAAS,SAAS,MAAM,MAAM,OACtCI,EAAUJ,EAAS,SAAS,QAAQ,MAAM,OAOhDK,EAAmBN,EALN,CACT,MAAAI,EACA,QAAAC,CACR,CAEgC,CAChC,CAEA,SAASF,EAAa,EAAG,CACrB,EAAE,eAAc,EAEhB,MAAMC,EAAQH,EAAS,SAAS,MAAM,MAAM,OACtCI,EAAUJ,EAAS,SAAS,QAAQ,MAAM,OAEhD,GAAIG,IAAU,IAAMC,IAAY,GAAI,CAChC,MAAM,mCAAmC,EACzC,MACH,CAED,MAAME,EAAO,CACT,MAAAH,EACA,QAAAC,CACR,EAEI,aAAa,WAAWL,CAAG,EAC3BC,EAAS,MAAK,EAEd,QAAQ,IAAIM,CAAI,CACpB,CAEA,SAASD,EAAmBE,EAAKC,EAAO,CACpC,MAAMC,EAAW,KAAK,UAAUD,CAAK,EACrC,aAAa,QAAQD,EAAKE,CAAQ,CACtC,CAEA,SAASC,EAAoBH,EAAK,CAC9B,MAAMI,EAAY,aAAa,QAAQJ,CAAG,EAC1C,GAAI,CACA,OAAO,KAAK,MAAMI,CAAS,CACnC,MAAM,CACE,OAAOA,CACV,CACL,CAEA,SAASC,GAAY,CACjB,MAAMN,EAAOI,EAAoBX,CAAG,GAAK,CAAA,EACzCC,EAAS,SAAS,MAAM,MAAQM,EAAK,OAAS,GAC9CN,EAAS,SAAS,QAAQ,MAAQM,EAAK,SAAW,EACtD,CAEAM,EAAW"}